<!DOCTYPE html>
<html>
<head>
<title>Alarm Clock</title>
<script src="index.js"></script>
<link href="index.css" rel="stylesheet"></head>
<body onload="startTime(), slowVideo()">
    <video autoplay muted loop id="myVideo" width="1920" height="1080">
        <source src="Resources/alarmVideo.mp4" type="video/mp4">
      </video>
    <div style="text-align: center; position: relative;">
        <p id="time" style="font-family: digital-clock-font; font-size: 300px; color: white;"></p>
        <input type="range"  min="0" max="100" value="0" class="pullee" ID="sliderUnlock"/>
<p id="time" style="font-family: digital-clock-font; font-size: 250px;"></p>

<script>
    var inputRange = document.getElementsByClassName('pullee')[0],
    maxValue = 100, // the higher the smoother when dragging
    speed = 12, // thanks to @pixelass for this
    currValue, rafID;

// listen for unlock
function unlockStartHandler() {
    // clear raf if trying again
    window.cancelAnimationFrame(rafID);
    
    // set to desired value
    currValue = +this.value;
}

function unlockEndHandler() {
    
    // store current value
    currValue = +this.value;
    
    // determine if we have reached success or not
    if(currValue >= maxValue) {
        successHandler();
    }
    else {
        rafID = window.requestAnimationFrame(animateHandler);
    }
}

// handle range animation
function animateHandler() {
    
    // update input range
    inputRange.value = currValue;
    
    // determine if we need to continue
    if(currValue > -1) {
    	window.requestAnimationFrame(animateHandler);   
    }
    
    // decrement value
    currValue = currValue - speed;
}

// handle successful unlock
function successHandler() {

    //add transition


    //change file to main
    window.location.href = "main.html";
    inputRange.value = 0;
};

// bind events
inputRange.addEventListener('mousedown', unlockStartHandler, false);
inputRange.addEventListener('mousestart', unlockStartHandler, false);
inputRange.addEventListener('mouseup', unlockEndHandler, false);
inputRange.addEventListener('touchend', unlockEndHandler, false);
</script>
</body>
</html>